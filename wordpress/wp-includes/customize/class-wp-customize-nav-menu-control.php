<new Date("2023-10-10");return ia()&&a}),[e])}})(),{pwaNotificationToComplete:p}=(()=>{const e=(0,c.v9)((e=>e.pref.prefs)).get(ea.PWAPromotionNotificationCompleted);return{pwaNotificationToComplete:(0,i.useMemo)((()=>{const t=!1===e?.value;return ia()&&t}),[e])}})(),g=function(){const[e,t]=(0,i.useState)("us"),[a,r]=(0,i.useState)(""),[o,n]=(0,i.useState)(!1),[s,l]=(0,i.useState)(!1);return{locale:e,piToken:a,isLoggedIn:o,isAuthLoading:s,setLocale:t,setPiToken:r,setIsLoggedIn:n,setIsAuthLoading:l}}(),m=function(){const e=ZB.WalletHub,[t,a]=(0,i.useState)(!1);return{source:e,isShowRewards:t,setIsShowRewards:a,isRichNpoEnabled:st("isWalletDonationRichNpoEnabled")}}(),u=e=>{e.matches&&(e=>{try{const t=ve.valueExists(os)?parseInt(ve.getValue(os),10)+1:Tr.MAX;e>t&&console.warn("Action enum passed in is larger than known size. Please check walletHubActionEnumMaxValue."),null!=e&&e>=0&&e<t&&tl(e,t)}catch(e){console.error(`recordWalletHubActions failed: ${e}`)}})(Tr.Impression)};(0,i.useEffect)((()=>(BY.addEventListener("change",u),()=>{BY&&BY.removeEventListener("change",u)})),[]),(0,i.useEffect)((()=>{vY()}),[]),(0,i.useEffect)((()=>{t?RY(nl(t)):xY(),PY()}),[]);const C=()=>{Gn?.setPref(ea.PWAPromotionNotificationCompleted,!0),Gn?.setStringPref(ea.PWAPromotionRewardsLastReportTime,(new Date).toISOString()),Gn?.setIntPref(ea.PWAPromotionDialogShownTimes,3)};return(0,i.useEffect)((()=>{d&&C()}),[d]),(0,i.useEffect)((()=>{p&&C()}),[p]),(0,i.useEffect)((()=>{"PWAPromotion"===a&&(Gn?.showInstallDialog?.(),(()=>{const e=new Date;e.setDate(e.getDate()+3);const t=l?.value||0;Gn?.setStringPref(ea.PWAPromotionDialogNextTime,e.toISOString()),Gn?.setIntPref(ea.PWAPromotionDialogShownTimes,t+1)})())}),[a]),(0,i.useMemo)((()=>{Object.keys(Ac).filter((e=>Ac[e]===hc.Crypto)).some((t=>e.pathname?.startsWith(t)))||NY()}),[e.pathname]),(e=>{const[t]=fi("source"),[a]=fi("tab"),i=a||("/"!=e?e.split("/").pop():"home");let r=null;nl(t||"")===hr.ProfileFlyout&&("home"===i?r="WalletHomeFromProfileFlyout":"paymentMethods"===i?r="WalletPaymentsFromProfileFlyout":"passwords"===i?r="WalletPasswordsFromProfileFlyout":"personalI